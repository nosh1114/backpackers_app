export const mockTips = [
  {
    id: '1',
    country: 'タイ',
    city: 'バンコク',
    category: '交通',
    title: 'バンコクの地下鉄MRTが超便利！初回カード購入方法',
    content: 'バンコクのMRT（地下鉄）は観光地へのアクセスが抜群です。初回はカード購入が必要で、デポジット30バーツ＋チャージ分が必要。カードは再利用可能で、次回訪問時も使えます。ラッシュ時は混雑するので、朝7-9時、夕方5-7時は避けるのがおすすめ。',
    image_url: 'https://images.pexels.com/photos/1059078/pexels-photo-1059078.jpeg?auto=compress&cs=tinysrgb&w=800',
    tags: ['MRT', '地下鉄', 'カード', 'バンコク'],
    location: 'バンコク中央駅',
    author_id: 'user1',
    author_name: '旅人太郎',
    author_trust_score: 95,
    likes_count: 24,
    comments_count: 8,
    is_verified: true,
    created_at: '2025-01-15T10:30:00Z',
    is_liked: false,
  },
  {
    id: '2',
    country: 'ベトナム',
    city: 'ホーチミン',
    category: '食事',
    title: 'ローカル屋台でフォーを食べる時の注意点',
    content: 'ホーチミンの屋台フォーは1杯30,000-50,000VND程度。清潔そうな店を選び、現地の人が多い店がおすすめ。生野菜は避けて、よく火の通ったものを選ぶと安全。パクチーが苦手な人は「Không rau thơm」と言えばOK。',
    image_url: 'https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg?auto=compress&cs=tinysrgb&w=800',
    tags: ['フォー', '屋台', '安全', 'ローカル'],
    location: 'ベンタイン市場周辺',
    author_id: 'user2',
    author_name: 'アジア旅子',
    author_trust_score: 88,
    likes_count: 31,
    comments_count: 12,
    is_verified: false,
    created_at: '2025-01-14T15:45:00Z',
    is_liked: true,
  },
  {
    id: '3',
    country: 'インド',
    city: 'デリー',
    category: 'SIM',
    title: 'インドのSIMカード購入は空港がベスト！',
    content: 'デリー空港でAirtelのSIMを購入。パスポートとビザのコピーが必要です。28日間で2GB/日のプランが599ルピー。市内の店舗だと手続きが複雑で時間がかかるので、空港での購入を強く推奨します。',
    image_url: null,
    tags: ['SIM', 'Airtel', '空港', 'データ'],
    location: 'インディラ・ガンディー国際空港',
    author_id: 'user3',
    author_name: 'バックパック侍',
    author_trust_score: 92,
    likes_count: 18,
    comments_count: 5,
    is_verified: true,
    created_at: '2025-01-13T08:20:00Z',
    is_liked: false,
  },
  {
    id: '4',
    country: 'カンボジア',
    city: 'シェムリアップ',
    category: '宿',
    title: 'アンコールワット近くの格安ゲストハウス情報',
    content: 'シェムリアップのパブストリート周辺に格安ゲストハウスが集中。ドミトリーで1泊5-8ドル程度。WiFi、エアコン、朝食付きの所が多い。アンコールワットツアーの手配もフロントで可能。事前予約なしでも空きがあることが多いです。',
    image_url: 'https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg?auto=compress&cs=tinysrgb&w=800',
    tags: ['ゲストハウス', 'ドミトリー', 'パブストリート', '格安'],
    location: 'パブストリート',
    author_id: 'user4',
    author_name: '節約旅行者',
    author_trust_score: 85,
    likes_count: 27,
    comments_count: 9,
    is_verified: false,
    created_at: '2025-01-12T19:10:00Z',
    is_liked: false,
  },
  {
    id: '5',
    country: 'ラオス',
    city: 'ルアンパバーン',
    category: 'ビザ',
    title: 'ラオスのアライバルビザ取得方法（2025年最新）',
    content: 'ルアンパバーン空港でアライバルビザ取得可能。必要書類：パスポート（6ヶ月以上有効）、写真1枚、申請書、35ドル。申請書は空港で入手可能。所要時間は30分程度。事前にオンライン申請（eVisa）も可能で、こちらの方がスムーズです。',
    image_url: null,
    tags: ['ビザ', 'アライバル', 'eVisa', '空港'],
    location: 'ルアンパバーン国際空港',
    author_id: 'user5',
    author_name: 'ビザマスター',
    author_trust_score: 98,
    likes_count: 42,
    comments_count: 15,
    is_verified: true,
    created_at: '2025-01-11T12:00:00Z',
    is_liked: true,
  },
  {
    id: '6',
    country: 'タイ',
    city: 'チェンマイ',
    category: '注意点',
    title: 'チェンマイの雨季（6-10月）の注意点',
    content: '雨季のチェンマイは毎日スコールがあります。折り畳み傘は必須。道路が冠水することもあるので、サンダルよりも防水性のある靴がおすすめ。洗濯物が乾きにくいので、速乾性の衣類を多めに持参すると良いです。',
    image_url: 'https://images.pexels.com/photos/1118873/pexels-photo-1118873.jpeg?auto=compress&cs=tinysrgb&w=800',
    tags: ['雨季', 'スコール', '防水', '衣類'],
    location: 'チェンマイ旧市街',
    author_id: 'user6',
    author_name: '雨季体験者',
    author_trust_score: 79,
    likes_count: 16,
    comments_count: 7,
    is_verified: false,
    created_at: '2025-01-10T14:30:00Z',
    is_liked: false,
  }
]

export const mockUsers = [
  {
    id: 'user1',
    username: '旅人太郎',
    avatar_url: null,
    trust_score: 95,
    created_at: '2024-06-15T10:00:00Z',
    updated_at: '2025-01-15T10:30:00Z'
  },
  {
    id: 'user2',
    username: 'アジア旅子',
    avatar_url: null,
    trust_score: 88,
    created_at: '2024-08-20T15:00:00Z',
    updated_at: '2025-01-14T15:45:00Z'
  },
  {
    id: 'user3',
    username: 'バックパック侍',
    avatar_url: null,
    trust_score: 92,
    created_at: '2024-05-10T08:00:00Z',
    updated_at: '2025-01-13T08:20:00Z'
  },
  {
    id: 'user4',
    username: '節約旅行者',
    avatar_url: null,
    trust_score: 85,
    created_at: '2024-09-05T12:00:00Z',
    updated_at: '2025-01-12T19:10:00Z'
  },
  {
    id: 'user5',
    username: 'ビザマスター',
    avatar_url: null,
    trust_score: 98,
    created_at: '2024-03-01T09:00:00Z',
    updated_at: '2025-01-11T12:00:00Z'
  },
  {
    id: 'user6',
    username: '雨季体験者',
    avatar_url: null,
    trust_score: 79,
    created_at: '2024-10-15T16:00:00Z',
    updated_at: '2025-01-10T14:30:00Z'
  }
]

export const mockComments = [
  {
    id: 'comment1',
    tip_id: '1',
    author_id: 'user2',
    author_name: 'アジア旅子',
    content: 'とても参考になりました！MRTカードは本当に便利ですよね。',
    created_at: '2025-01-15T11:00:00Z'
  },
  {
    id: 'comment2',
    tip_id: '1',
    author_id: 'user3',
    content: 'ラッシュ時の混雑は本当にすごいです。時間をずらすのは重要ですね。',
    created_at: '2025-01-15T12:30:00Z'
  },
  {
    id: 'comment3',
    tip_id: '2',
    author_id: 'user1',
    content: 'パクチー抜きの言い方、覚えておきます！ありがとうございます。',
    created_at: '2025-01-14T16:00:00Z'
  }
]

// モックAPI関数
export const mockApi = {
  // Tips関連
  getTips: async (country?: string, category?: string, sortBy?: string) => {
    let filteredTips = [...mockTips]
    
    if (country) {
      filteredTips = filteredTips.filter(tip => tip.country === country)
    }
    
    if (category && category !== 'all') {
      filteredTips = filteredTips.filter(tip => tip.category === category)
    }
    
    // ソート
    switch (sortBy) {
      case 'popular':
        filteredTips.sort((a, b) => b.likes_count - a.likes_count)
        break
      case 'trust':
        filteredTips.sort((a, b) => b.author_trust_score - a.author_trust_score)
        break
      default:
        filteredTips.sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime())
    }
    
    return { data: filteredTips, error: null }
  },
  
  getTip: async (id: string) => {
    const tip = mockTips.find(t => t.id === id)
    return { data: tip, error: tip ? null : 'Tip not found' }
  },
  
  // 国別統計
  getCountryStats: async () => {
    const stats = mockTips.reduce((acc, tip) => {
      if (!acc[tip.country]) {
        acc[tip.country] = {
          country: tip.country,
          tipCount: 0,
          lastPostDate: tip.created_at,
          recentTips: []
        }
      }
      
      acc[tip.country].tipCount++
      if (new Date(tip.created_at) > new Date(acc[tip.country].lastPostDate)) {
        acc[tip.country].lastPostDate = tip.created_at
      }
      
      acc[tip.country].recentTips.push({
        title: tip.title,
        category: tip.category
      })
      
      return acc
    }, {} as Record<string, any>)
    
    return { data: Object.values(stats), error: null }
  },
  
  // いいね機能
  toggleLike: async (tipId: string, userId: string) => {
    const tip = mockTips.find(t => t.id === tipId)
    if (tip) {
      tip.is_liked = !tip.is_liked
      tip.likes_count += tip.is_liked ? 1 : -1
    }
    return { data: tip, error: null }
  },
  
  // コメント関連
  getComments: async (tipId: string) => {
    const comments = mockComments.filter(c => c.tip_id === tipId)
    return { data: comments, error: null }
  },
  
  // ユーザー関連
  getUser: async (id: string) => {
    const user = mockUsers.find(u => u.id === id)
    return { data: user, error: user ? null : 'User not found' }
  }
}